<!-- templates/rss_list.html -->
{% extends "news.html" %}
{% block content %}
  <h2 style="text-align:center;margin:1rem 0">üì∞ RSS: {{ cat|e }} / {{ sub|e }}</h2>
  {% if error %}
    <div class="error">‚ö†Ô∏è {{ error|e }}</div>
  {% endif %}
  <div class="grid">
    {% for a in articles %}
      <div class="card">
        <div class="thumb--missing">Sem imagem</div>
        <h3>{{ (a.title or '')|e|truncate(120, True, '‚Ä¶') }}</h3>
        <p>{{ (a.description or 'Sem descri√ß√£o dispon√≠vel.')|e|truncate(180, True, '‚Ä¶') }}</p>
        <a href="{{ a.url|e }}" target="_blank" rel="noopener">Abrir ‚Üí</a>
      </div>
    {% endfor %}
  </div>
{% endblock %}

<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <title>{{ cat }} / {{ sub }} | NewsTechApp</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style_assistente.css') }}">
  <script src="{{ url_for('static', filename='js/chat.js') }}" defer></script>

</head>
<body>
  <h1>üì∞ {{ cat }} ‚Üí {{ sub }}</h1>

  {% if error %}
    <div class="error">‚ö†Ô∏è {{ error }}</div>
  {% endif %}

  <div class="grid">
    {% for a in articles %}
      <div class="card">
        {% if a.image %}
          <img class="thumb" src="{{ a.image }}" alt="Imagem" loading="lazy" decoding="async" />
        {% else %}
          <div class="thumb--missing">Sem imagem</div>
        {% endif %}
        <h3>{{ a.title|truncate(120, True, '‚Ä¶') }}</h3>
        <p>{{ (a.description or '')|striptags|truncate(180, True, '‚Ä¶') }}</p>
        <a href="{{ a.url }}" target="_blank" rel="noopener noreferrer">Ler mat√©ria completa ‚Üí</a>
      </div>
    {% endfor %}
  </div>
</body>
</html>
