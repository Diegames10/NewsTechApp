<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Publicar Notícia</title>

  <!-- CSS do portal (reaproveitado) -->
  <link rel="stylesheet" href="{{ url_for('static', filename='Portal.noticias.css') }}" />
</head>
<body>

  <header class="topbar">
    <a href="{{ url_for('news.index') }}" class="logo">NewsTechApp</a>
    <nav>
      <a href="{{ url_for('news.index') }}">Início</a>
      <a href="{{ url_for('news.publicar') }}" class="active">Publicar</a>
    </nav>
  </header>

  <main class="container">
    <h1>Publicar notícia</h1>

    <!-- status opcional -->
    <p id="status" aria-live="polite"></p>

    <form id="form-post" enctype="multipart/form-data">
      <div class="field">
        <label for="titulo">Título</label>
        <input type="text" id="titulo" name="titulo" placeholder="Título da notícia" required />
      </div>

      <div class="field">
        <label for="conteudo">Conteúdo</label>
        <textarea id="conteudo" name="conteudo" rows="6" placeholder="Escreva sua notícia..." required></textarea>
      </div>

      <div class="field">
        <label for="image">Imagem (opcional)</label>
        <input type="file" id="image" name="image" accept="image/*" />
        <!-- Prévia opcional -->
        <img id="preview" alt="Prévia da imagem" style="display:none; max-width: 320px; margin-top: 8px;" />
      </div>

      <div class="actions">
        <button type="submit">Publicar</button>
        <a class="button ghost" href="{{ url_for('news.index') }}">Cancelar</a>
      </div>
    </form>
  </main>

  <!-- 1) Carrega o JS do publicar (type=module, com src) -->
  <script type="module" src="{{ url_for('static', filename='js/publicar.api.js') }}"></script>

  <!-- 2) (Opcional) Inline separado — remova se não precisar -->
  <script>
    // espaço para algum ajuste rápido específico desta página, se necessário
    // Ex: window.__PUBLICAR_DEBUG__ = true;
  </script>
</body>
</html>
